<!DOCTYPE html><html lang="pt"><head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>Clique nos trÃªs pontinhos â†’</title>

<!-- 
  CORREÃ‡ÃƒO 1: Adicionado o preload do GIF para carregar mais rÃ¡pido 
-->
<link rel="preload" as="image" href="https://s12.gifyu.com/images/b37x6.gif">

<style>
  :root{
    --bg:#fff7f7; --card:#fff; --text:#111; --muted:#6b6363;
    --accent:#e21f2b; --shadow:0 8px 30px rgba(0,0,0,.08);
    font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  }
  *{box-sizing:border-box}
  html,body{margin:0;background:var(--bg);color:var(--text)}
  .wrap{max-width:420px;margin:0 auto;padding:18px;padding-top:60px}
  .card{position:relative;background:var(--card);border-radius:14px;padding:14px;box-shadow:var(--shadow);overflow:visible}

  .guide-title{display:flex;align-items:center;justify-content:center;gap:8px;text-align:center;font-weight:700;font-size:17px;margin-bottom:10px;}
  .arrow{font-size:22px;animation:bounce 1.2s infinite}
  @keyframes bounce{0%,20%,50%,80%,100%{transform:translateY(0)}40%{transform:translateY(6px)}60%{transform:translateY(3px)}}

  .visual img{width:100%;height:auto;display:block;border-radius:12px}

  .steps{margin-top:12px;display:flex;flex-direction:column;gap:8px}
  .step{display:flex;gap:8px}
  .num{color:var(--accent);font-weight:800;min-width:22px}
  .txt{color:var(--muted);font-size:15px}
  .cta{margin-top:12px}
  .btn{
    width:100%;background:var(--accent);color:#fff;padding:14px;border:0;border-radius:12px;
    font-weight:800;font-size:16px;cursor:pointer;box-shadow:0 12px 30px rgba(226,31,43,.18)
  }
  .foot{margin-top:10px;text-align:center;color:var(--muted);font-size:12px}

  .lang-selector{
    position:fixed;
    top:calc(10px + env(safe-area-inset-top, 0px));
    right:10px;
    z-index:1000;
  }
  .lang-selector__btn{
    display:flex; align-items:center; gap:6px;
    font-size:14px; font-weight:700; border-radius:999px;padding:6px 12px;
    border:1px solid #eee; background:#fff; cursor:pointer;
    box-shadow:0 4px 14px rgba(0,0,0,.06)
  }
  .lang-selector__btn span:first-child{font-size:18px;}
  .lang-selector__menu{
    position:absolute;top:calc(100% + 4px);right:0;background:#fff;border:1px solid #eee;border-radius:12px;
    box-shadow:0 10px 30px rgba(0,0,0,.08);padding:6px;display:none;z-index:40;min-width:120px;
    max-height: 300px; overflow-y: auto;
  }
  .lang-selector__menu.open{display:block}
  .lang-selector__menu button{
    display:flex; align-items:center; gap:8px; width:100%;
    text-align:left;border:0;background:transparent;padding:8px 10px;border-radius:8px;cursor:pointer; font-size: 14px;
  }
  .lang-selector__menu button:hover{background:#f5f5f5}
</style>
</head>
<body>
  <div class="lang-selector" aria-label="Language selector">
    <button id="current-lang-btn" class="lang-selector__btn" aria-haspopup="true" aria-expanded="false">
      <span id="current-flag">ğŸ‡§ğŸ‡·</span>
      <span id="current-lang-code">PT</span>
    </button>
    <div id="lang-dropdown" class="lang-selector__menu" role="menu">
    </div>
  </div>

  <div class="wrap">
    <div class="card" role="main">
      <div class="guide-title">
        <span data-i18n="guide">Siga o tutorial abaixo</span>
        <span class="arrow">ğŸ‘‡</span>
      </div>

      <div class="visual">
        <img src="images/b37x6.gif" alt="Como abrir no navegador">
      </div>

      <div class="steps">
        <div class="step"><div class="num">1)</div><div class="txt" data-i18n="step1">Toque nos <strong>trÃªs pontinhos</strong> (canto superior da tela)</div></div>
        <div class="step"><div class="num">2)</div><div class="txt" data-i18n="step2">Escolha <strong>"Abrir no navegador"</strong></div></div>
        <div class="step"><div class="num">3)</div><div class="txt" data-i18n="step3">Agora toque no botÃ£o vermelho para abrir o Telegram</div></div>
      </div>

      <div class="cta">
        <button class="btn" data-i18n="cta">ABRIR TELEGRAM</button>
      </div>

      <div class="foot" data-i18n="foot">Redirecionamento seguro â€¢ Nunca armazenamos dados pessoais.</div>
    </div>
  </div>

  <noscript style="display:block;text-align:center;color:#b91c1c;font:14px/1.4 system-ui;margin:14px;">
    Seu navegador bloqueou JavaScript. O site estÃ¡ em portuguÃªs por padrÃ£o.
  </noscript>

<!-- 
  CORREÃ‡ÃƒO 2: Script modificado para ter links centralizados 
-->
<script>
(function(){
  "use strict";
  // FunÃ§Ã£o de seguranÃ§a para evitar que um erro pare todo o script.
  const safe = (fn) => { try { fn(); } catch(e) { console.error(e); } };

  /**
   * CONFIGURAÃ‡ÃƒO DE IDIOMAS
   * --------------------------
   */

  // 1. LANG_CONFIG: Define a aparÃªncia do idioma no menu de seleÃ§Ã£o manual.
  const LANG_CONFIG = {
    // --- Seus idiomas originais (mantidos) ---
    pt: { flag: 'ğŸ‡§ğŸ‡·', name: 'PT' },
    en: { flag: 'ğŸ‡ºğŸ‡¸', name: 'EN' },
    es: { flag: 'ğŸ‡ªğŸ‡¸', name: 'ES' },
    fr: { flag: 'ğŸ‡«ğŸ‡·', name: 'FR' },
    de: { flag: 'ğŸ‡©ğŸ‡ª', name: 'DE' },
    it: { flag: 'ğŸ‡®ğŸ‡¹', name: 'IT' },
    nl: { flag: 'ğŸ‡³ğŸ‡±', name: 'NL' },
    ja: { flag: 'ğŸ‡¯ğŸ‡µ', name: 'JA' },
    ar: { flag: 'ğŸ‡¸ğŸ‡¦', name: 'AR' },
    pl: { flag: 'ğŸ‡µğŸ‡±', name: 'PL' },
    tr: { flag: 'ğŸ‡¹ğŸ‡·', name: 'TR' },
    // --- Novos idiomas para maior cobertura global ---
    hi: { flag: 'ğŸ‡®ğŸ‡³', name: 'HI' }, // Hindi
    zh: { flag: 'ğŸ‡¨ğŸ‡³', name: 'ZH' }, // ChinÃªs (Mandarim)
    ru: { flag: 'ğŸ‡·ğŸ‡º', name: 'RU' }, // Russo
    id: { flag: 'ğŸ‡®ğŸ‡©', name: 'ID' }, // IndonÃ©sio
    ko: { flag: 'ğŸ‡°ğŸ‡·', name: 'KO' }, // Coreano
    sv: { flag: 'ğŸ‡¸ğŸ‡ª', name: 'SV' }, // Sueco
  };

  // 2. LINKS: Define o link de destino.
  //    MUDE SEUS LINKS SOMENTE AQUI
  // ====================================================
  const LINK_BRASIL = "https://t.me/leticiapradosx_bot";
  const LINK_GRINGA = "https://t.me/leticiapradof_bot";
  // ====================================================


  // 3. dict: O dicionÃ¡rio com todas as traduÃ§Ãµes.
  const dict = {
    // --- Suas traduÃ§Ãµes originais (mantidas) ---
    pt:{guide:'Siga o tutorial abaixo',step1:'Toque nos <strong>trÃªs pontinhos</strong> (canto superior da tela)',step2:'Escolha <strong>"Abrir no navegador"</strong>',step3:'Agora toque no botÃ£o vermelho para abrir o Telegram',cta:'ABRIR TELEGRAM',foot:'Redirecionamento seguro â€¢ Nunca armazenamos dados pessoais.'},
    en:{guide:'Follow the tutorial below',step1:'Tap the <strong>three dots</strong> (top-right of the screen)',step2:'Choose <strong>"Open in browser"</strong>',step3:'Now tap the red button to open Telegram',cta:'OPEN TELEGRAM',foot:"Secure redirect â€¢ We don't store personal data."},
    es:{guide:'Sigue el tutorial abajo',step1:'Toca los <strong>tres puntos</strong> (arriba a la derecha)',step2:'Elige <strong>"Abrir en el navegador"</strong>',step3:'Ahora toca el botÃ³n rojo para abrir Telegram',cta:'ABRIR TELEGRAM',foot:'RedirecciÃ³n segura â€¢ No guardamos datos personales.'},
    fr:{guide:'Suivez le tutoriel ci-dessous',step1:'Touchez les <strong>trois points</strong> (en haut Ã  droite)',step2:'Choisissez <strong>"Ouvrir dans le navigateur"</strong>',step3:'Touchez maintenant le bouton rouge pour ouvrir Telegram',cta:'OUVRIR TELEGRAM',foot:'Redirection sÃ©curisÃ©e â€¢ Nous ne stockons pas de donnÃ©es personnelles.'},
    de:{guide:'Folgen Sie der Anleitung unten',step1:'Tippen Sie auf die <strong>drei Punkte</strong> (oben rechts)',step2:'WÃ¤hlen Sie <strong>"Im Browser Ã¶ffnen"</strong>',step3:'Tippen Sie nun auf den roten Knopf, um Telegram zu Ã¶ffnen',cta:'TELEGRAM Ã–FFNEN',foot:'Sichere Weiterleitung â€¢ Wir speichern keine persÃ¶nlichen Daten.'},
    it:{guide:'Segui il tutorial qui sotto',step1:'Tocca i <strong>tre puntini</strong> (in alto a destra)',step2:'Scegli <strong>"Apri nel browser"</strong>',step3:'Ora tocca il pulsante rosso per aprire Telegram',cta:'APRIRE TELEGRAM',foot:'Reindirizzamento sicuro â€¢ Non memorizziamo dati personali.'},
    nl:{guide:'Volg de onderstaande tutorial',step1:'Tik op de <strong>drie stippen</strong> (rechtsboven in het scherm)',step2:'Kies <strong>"Openen in browser"</strong>',step3:'Tik nu op de rode knop om Telegram te openen',cta:'TELEGRAM OPENEN',foot:'Veilige omleiding â€¢ We slaan geen persoonlijke gegevens op.'},
    ja:{guide:'ä»¥ä¸‹ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã«å¾“ã£ã¦ãã ã•ã„',step1:'ç”»é¢å³ä¸Šã®<strong>ä¸‰ã¤ã®ç‚¹</strong>ã‚’ã‚¿ãƒƒãƒ—ã—ã¾ã™',step2:'<strong>ã€Œãƒ–ãƒ©ã‚¦ã‚¶ã§é–‹ãã€</strong>ã‚’é¸æŠã—ã¾ã™',step3:'èµ¤ã„ãƒœã‚¿ãƒ³ã‚’ã‚¿ãƒƒãƒ—ã—ã¦Telegramã‚’é–‹ãã¾ã™',cta:'TELEGRAMã‚’é–‹ã',foot:'å®‰å…¨ãªãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ â€¢ å€‹äººãƒ‡ãƒ¼ã‚¿ã¯ä¿å­˜ã•ã‚Œã¾ã›ã‚“ã€‚'},
    ar:{guide:'Ø§ØªØ¨Ø¹ Ø§Ù„Ø´Ø±Ø­ Ø£Ø¯Ù†Ø§Ù‡',step1:'Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ <strong>Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ø«Ù„Ø§Ø«</strong> (Ø£Ø¹Ù„Ù‰ ÙŠÙ…ÙŠÙ† Ø§Ù„Ø´Ø§Ø´Ø©)',step2:'Ø§Ø®ØªØ± <strong>"Ø§Ù„ÙØªØ­ ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­"</strong>',step3:'Ø§Ù„Ø¢Ù† Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ø§Ù„Ø£Ø­Ù…Ø± Ù„ÙØªØ­ Telegram',cta:'Ø§ÙØªØ­ TELEGRAM',foot:'Ø¥Ø¹Ø§Ø¯Ø© ØªÙˆØ¬ÙŠÙ‡ Ø¢Ù…Ù†Ø© â€¢ Ù†Ø­Ù† Ù„Ø§ Ù†Ø®Ø²Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©.'},
    pl:{guide:'PostÄ™puj zgodnie z poniÅ¼szym samouczkiem',step1:'Dotknij <strong>trzech kropek</strong> (w prawym gÃ³rnym rogu ekranu)',step2:'Wybierz <strong>"OtwÃ³rz w przeglÄ…darce"</strong>',step3:'Teraz dotknij czerwonego przycisku, aby otworzyÄ‡ Telegram',cta:'OTWÃ“RZ TELEGRAM',foot:'Bezpieczne przekierowanie â€¢ Nie przechowujemy danych osobowych.'},
    tr:{guide:'AÅŸaÄŸÄ±daki eÄŸitimi takip edin',step1:'<strong>ÃœÃ§ noktaya</strong> dokunun (ekranÄ±n saÄŸ Ã¼st kÃ¶ÅŸesi)',step2:'<strong>"TarayÄ±cÄ±da aÃ§"</strong> seÃ§eneÄŸini seÃ§in',step3:'Åimdi Telegram\'Ä± aÃ§mak iÃ§in kÄ±rmÄ±zÄ± dÃ¼ÄŸmeye dokunun',cta:'TELEGRAM\'I AÃ‡',foot:'GÃ¼venli yÃ¶nlendirme â€¢ KiÅŸisel verileri saklamÄ±yoruz.'},
    // --- Novas traduÃ§Ãµes (recomenda-se revisÃ£o) ---
    hi:{guide:'à¤¨à¥€à¤šà¥‡ à¤¦à¤¿à¤ à¤—à¤ à¤Ÿà¥à¤¯à¥‚à¤Ÿà¥‹à¤°à¤¿à¤¯à¤² à¤•à¤¾ à¤ªà¤¾à¤²à¤¨ à¤•à¤°à¥‡à¤‚',step1:'<strong>à¤¤à¥€à¤¨ à¤¬à¤¿à¤‚à¤¦à¥à¤“à¤‚</strong> à¤ªà¤° à¤Ÿà¥ˆà¤ª à¤•à¤°à¥‡à¤‚ (à¤¸à¥à¤•à¥à¤°à¥€à¤¨ à¤•à¥‡ à¤Šà¤ªà¤°à¥€-à¤¦à¤¾à¤à¤‚ à¤•à¥‹à¤¨à¥‡ à¤®à¥‡à¤‚)',step2:'<strong>"à¤¬à¥à¤°à¤¾à¤‰à¤œà¤¼à¤° à¤®à¥‡à¤‚ à¤–à¥‹à¤²à¥‡à¤‚"</strong> à¤šà¥à¤¨à¥‡à¤‚',step3:'à¤…à¤¬ à¤Ÿà¥‡à¤²à¥€à¤—à¥à¤°à¤¾à¤® à¤–à¥‹à¤²à¤¨à¥‡ à¤•à¥‡ à¤²à¤¿à¤ à¤²à¤¾à¤² à¤¬à¤Ÿà¤¨ à¤ªà¤° à¤Ÿà¥ˆà¤ª à¤•à¤°à¥‡à¤‚',cta:'à¤Ÿà¥‡à¤²à¥€à¤—à¥à¤°à¤¾à¤® à¤–à¥‹à¤²à¥‡à¤‚',foot:'à¤¸à¥à¤°à¤•à¥à¤·à¤¿à¤¤ à¤ªà¥à¤¨à¤°à¥à¤¨à¤¿à¤°à¥à¤¦à¥‡à¤¶à¤¨ â€¢ à¤¹à¤® à¤µà¥à¤¯à¤•à¥à¤¤à¤¿à¤—à¤¤ à¤¡à¥‡à¤Ÿà¤¾ à¤¸à¤‚à¤—à¥à¤°à¤¹à¥€à¤¤ à¤¨à¤¹à¥€à¤‚ à¤•à¤°à¤¤à¥‡ à¤¹à¥ˆà¤‚à¥¤'},
    zh:{guide:'è¯·æŒ‰ç…§ä»¥ä¸‹æ•™ç¨‹æ“ä½œ',step1:'ç‚¹å‡»<strong>ä¸‰ä¸ªç‚¹</strong>ï¼ˆå±å¹•å³ä¸Šè§’ï¼‰',step2:'é€‰æ‹©<strong>â€œåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€â€</strong>',step3:'ç°åœ¨ç‚¹å‡»çº¢è‰²æŒ‰é’®æ‰“å¼€Telegram',cta:'æ‰“å¼€TELEGRAM',foot:'å®‰å…¨é‡å®šå‘ â€¢ æˆ‘ä»¬ä¸å­˜å‚¨ä¸ªäººæ•°æ®ã€‚'},
    ru:{guide:'Ğ¡Ğ»ĞµĞ´ÑƒĞ¹Ñ‚Ğµ Ğ¸Ğ½ÑÑ‚Ñ€ÑƒĞºÑ†Ğ¸Ğ¸ Ğ½Ğ¸Ğ¶Ğµ',step1:'ĞĞ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ Ğ½Ğ° <strong>Ñ‚Ñ€Ğ¸ Ñ‚Ğ¾Ñ‡ĞºĞ¸</strong> (Ğ² Ğ¿Ñ€Ğ°Ğ²Ğ¾Ğ¼ Ğ²ĞµÑ€Ñ…Ğ½ĞµĞ¼ ÑƒĞ³Ğ»Ñƒ ÑĞºÑ€Ğ°Ğ½Ğ°)',step2:'Ğ’Ñ‹Ğ±ĞµÑ€Ğ¸Ñ‚Ğµ <strong>"ĞÑ‚ĞºÑ€Ñ‹Ñ‚ÑŒ Ğ² Ğ±Ñ€Ğ°ÑƒĞ·ĞµÑ€Ğµ"</strong>',step3:'Ğ¢ĞµĞ¿ĞµÑ€ÑŒ Ğ½Ğ°Ğ¶Ğ¼Ğ¸Ñ‚Ğµ ĞºÑ€Ğ°ÑĞ½ÑƒÑ ĞºĞ½Ğ¾Ğ¿ĞºÑƒ, Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ¾Ñ‚ĞºÑ€Ñ‹Ñ‚ÑŒ Telegram',cta:'ĞĞ¢ĞšĞ Ğ«Ğ¢Ğ¬ TELEGRAM',foot:'Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ğ¾Ğµ Ğ¿ĞµÑ€ĞµĞ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ â€¢ ĞœÑ‹ Ğ½Ğµ Ñ…Ñ€Ğ°Ğ½Ğ¸Ğ¼ Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ.'},
    id:{guide:'Ikuti tutorial di bawah ini',step1:'Ketuk <strong>tiga titik</strong> (kanan atas layar)',step2:'Pilih <strong>"Buka di browser"</strong>',step3:'Sekarang ketuk tombol merah untuk membuka Telegram',cta:'BUKA TELEGRAM',foot:'Pengalihan aman â€¢ Kami Ğ½Ğµ menyimpan data pribadi.'},
    ko:{guide:'ì•„ë˜ íŠœí† ë¦¬ì–¼ì„ ë”°ë¥´ì‹­ì‹œì˜¤',step1:'<strong>ì„¸ ê°œì˜ ì </strong>(í™”ë©´ ì˜¤ë¥¸ìª½ ìƒë‹¨)ì„ íƒ­í•˜ì„¸ìš”',step2:'<strong>"ë¸Œë¼ìš°ì €ì—ì„œ ì—´ê¸°"</strong>ë¥¼ ì„ íƒí•˜ì„¸ìš”',step3:'ì´ì œ ë¹¨ê°„ ë²„íŠ¼ì„ íƒ­í•˜ì—¬ Telegramì„ ì—½ë‹ˆë‹¤',cta:'TELEGRAM ì—´ê¸°',foot:'ì•ˆì „í•œ ë¦¬ë””ë ‰ì…˜ â€¢ ê°œì¸ ë°ì´í„°ë¥¼ ì €ì¥í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.'},
    sv:{guide:'FÃ¶lj handledningen nedan',step1:'Tryck pÃ¥ de <strong>tre prickarna</strong> (hÃ¶gst upp till hÃ¶ger pÃ¥ skÃ¤rmen)',step2:'VÃ¤lj <strong>"Ã–ppna i webblÃ¤saren"</strong>',step3:'Tryck nu pÃ¥ den rÃ¶da knappen fÃ¶r att Ã¶ppna Telegram',cta:'Ã–PPNA TELEGRAM',foot:'SÃ¤ker omdirigering â€¢ Vi lagrar inga personuppgifter.'},
  };

  /**
   * LÃ“GICA DO SCRIPT (JÃ¡ modificada)
   * ----------------------------------------------------
   */
  const BRAZIL_TZS = new Set(["America/Noronha","America/Belem","America/Fortaleza","America/Recife","America/Araguaina","America/Maceio","America/Bahia","America/Santarem","America/Sao_Paulo","America/Campo_Grande","America/Cuiaba","America/Porto_Velho","America/Boa_Vista","America/Manaus","America/Eirunepe","America/Rio_Branco"]);
  const PREF_LANG='site_lang';
  const $=(s)=>document.querySelector(s);
  const getParam=(n)=>new URLSearchParams(location.search).get(n);

  function detectInitialLanguage(){
    const urlLang=getParam('lang'); if(urlLang && dict[urlLang]) return urlLang;
    try{ const saved=localStorage.getItem(PREF_LANG); if(saved && dict[saved]) return saved; }catch(e){}
    const langs=navigator.languages?.length?navigator.languages:[navigator.language||''];
    for(const lang of langs) {
        const baseLang = lang.split('-')[0].toLowerCase();
        if (dict[baseLang]) {
            return baseLang;
        }
    }
    try{ const tz=Intl.DateTimeFormat().resolvedOptions().timeZone; if(BRAZIL_TZS.has(tz)) return 'pt'; }catch(e){}
    return 'en';
  }

  let currentLang='pt';

  function updateCurrentLangDisplay(lang) {
    const config = LANG_CONFIG[lang] || LANG_CONFIG.pt;
    safe(()=> $('#current-flag').textContent = config.flag);
    safe(()=> $('#current-lang-code').textContent = config.name);
  }

  function applyLang(lang){
    currentLang = lang;
    const t = dict[lang] || dict.pt;
    safe(() => {
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const k = el.getAttribute('data-i18n');
        if(t[k] !== undefined) el.innerHTML = t[k];
      });
    });

    // --- LÃ“GICA DE LINK MODIFICADA ---
    safe(() => {
      const cta = document.querySelector('[data-i18n="cta"]');
      if(cta) {
        // Se o idioma for 'pt', usa o link do Brasil.
        // Para QUALQUER outro idioma, usa o link da Gringa.
        const destinationLink = (currentLang === 'pt') ? LINK_BRASIL : LINK_GRINGA;
        cta.onclick = () => { location.href = destinationLink; };
      }
    });
    // --- FIM DA MODIFICAÃ‡ÃƒO ---

    updateCurrentLangDisplay(lang);
    safe(() => { localStorage.setItem(PREF_LANG, lang); });
  }

  function toggleDropdown(open) {
    const menu = $('#lang-dropdown');
    const btn = $('#current-lang-btn');
    if(!menu || !btn) return;
    menu.classList.toggle('open', open);
    btn.setAttribute('aria-expanded', open ? 'true' : 'false');
  }

  function populateDropdown() {
    const menu = $('#lang-dropdown');
    if (!menu) return;
    menu.innerHTML = '';
    // Popula o menu baseado em TODOS os idiomas definidos no LANG_CONFIG
    for (const langCode in LANG_CONFIG) {
        const config = LANG_CONFIG[langCode];
        const button = document.createElement('button');
        button.setAttribute('data-lang', langCode);
        button.setAttribute('role', 'menuitem');
        button.innerHTML = `<span>${config.flag}</span> <span>${config.name}</span>`;
        button.addEventListener('click', () => {
            applyLang(langCode);
            toggleDropdown(false);
        });
        menu.appendChild(button);
    }
  }

  function bindEvents(){
    const btn = $('#current-lang-btn');
    const menu = $('#lang-dropdown');
    if (!btn || !menu) return;
    btn.addEventListener('click', (e) => {
        e.stopPropagation();
        toggleDropdown(!menu.classList.contains('open'));
    });
    document.addEventListener('click', (e) => {
        if (!menu.contains(e.target) && e.target !== btn && !btn.contains(e.target)) {
            toggleDropdown(false);
        }
    });
  }

  safe(() => {
    populateDropdown();
    const initialLang = detectInitialLanguage();
    applyLang(initialLang);
    bindEvents();
  });

})();
</script>



</body></html>